(this.webpackJsonpfoodfrenzy=this.webpackJsonpfoodfrenzy||[]).push([[0],{30:function(e,t,n){e.exports=n(72)},36:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(8),r=n.n(o),s=(n(35),n(36),n(10)),l=n(11),c=n(13),u=n(12),d=n(14),m=n(9),p=n(27),h=n.n(p),g=n(74),f=n(75),v=(n(68),function(e){var t=e.visible,n=e.marker;return console.log(e),t&&"current"!==n.name?i.a.createElement("div",{id:"infobox"},i.a.createElement(g.a,null,i.a.createElement(f.a,null,i.a.createElement(f.a.Img,{variant:"top",src:n.item.imageUrl}),i.a.createElement(f.a.Body,null,i.a.createElement(f.a.Title,null,n.name," ",void 0!==n.item.price?"- ".concat(n.item.price):""),i.a.createElement(f.a.Text,null,n.item.isClosed?"Closed":"Open",i.a.createElement("br",null),"Distance: ",parseFloat(n.item.distance).toFixed(2)," miles ",i.a.createElement("br",null),"Rating: ",n.item.rating,"/5 (",n.item.reviewCount," reviews)",i.a.createElement("br",null),"Supports Delivery: ",n.item.supportsDelivery?"Yes":"No",i.a.createElement("br",null)),"Phone: ",i.a.createElement(f.a.Link,{href:"tel:".concat(n.item.phone)},n.item.displayPhn))))):i.a.createElement(i.a.Fragment,null)}),k=(n(69),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={location:null,activeMarker:{},selectedPlace:{},showingInfoWindow:!1,businesses:[]},n.onMarkerClick=function(e,t){return n.setState({activeMarker:t,selectedPlace:e,showingInfoWindow:!0})},n.onInfoWindowClose=function(){return n.setState({activeMarker:null,showingInfoWindow:!1})},n.onMapClicked=function(){n.state.showingInfoWindow&&n.setState({activeMarker:null,showingInfoWindow:!1})},n.parseBuisinessResponse=function(e){return e.businesses.map((function(e){var t=e.id,n=e.name,a=e.image_url,i=e.is_closed,o=e.review_count,r=e.rating,s=e.price,l=e.phone,c=e.display_phone,u=e.distance,d=e.coordinates;return{id:t,name:n,imageUrl:a,isClosed:i,reviewCount:o,rating:r,price:s,phone:l,displayPhn:c,distance:u/=1609,supportsDelivery:-1!==e.transactions.indexOf("delivery"),coordinates:d}}))},n.getBusinesses=function(e){var t=e.latitude,a=e.longitude,i=e.limit,o=e.sortBy;console.log(Object({NODE_ENV:"production",PUBLIC_URL:"https://dhanushuuzumaki.github.io/Foodie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).YELP_URL),h()({method:"GET",url:"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search",params:{latitude:t,longitude:a,limit:i,sort_by:o},headers:{Authorization:"Bearer xb4gaUsgRiNZLm_4lT2qz78DZ4aijHPonhS-gd7WVwfpxVJbu8HBdOI-fKBqKjFGKuW2aG_F-ZCBBUfSHwr9_oApZtJyYUsiRqhaTfhstx5ndcUYOcQHCZrVnQVXXnYx"}}).then((function(e){var t=n.parseBuisinessResponse(e.data);n.setState({businesses:t})})).catch((function(e){return console.error(e)}))},n.componentDidMount=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;n.setState({location:{lat:t,lng:a}},n.getBusinesses({latitude:t,longitude:a,limit:50,sortBy:"distance"}))}),(function(){alert("Access to location is required for the application to function.")}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getBusinessMarkers",value:function(){var e=this,t=this.state.businesses,n=this.props.google;return t.map((function(t){var a=t.coordinates,o=a.latitude,r=a.longitude;return i.a.createElement(m.Marker,{name:t.name,key:t.id,onClick:e.onMarkerClick,position:{lat:o,lng:r},icon:{url:t.imageUrl,anchor:new n.maps.Point(0,32),scaledSize:new n.maps.Size(64,64)},item:t})}))}},{key:"getMap",value:function(){return i.a.createElement(m.Map,{className:"map",google:this.props.google,onClick:this.onMapClicked,initialCenter:this.state.location,zoom:15},i.a.createElement(m.Marker,{name:"current",onClick:this.onMarkerClick}),this.getBusinessMarkers())}},{key:"render",value:function(){return console.log(this.state),null!=this.state.location?i.a.createElement("div",null,i.a.createElement("div",null,this.getMap()),i.a.createElement("div",null,i.a.createElement(v,{marker:this.state.activeMarker,onClose:this.onInfoWindowClose,visible:this.state.showingInfoWindow}))):i.a.createElement("div",null)}}]),t}(i.a.Component)),E=Object(m.GoogleApiWrapper)({apiKey:"AIzaSyBNsZ8hy2MvqoEMEhBqligmk1CBpt1XCf0"})(k),w=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Foodie"),i.a.createElement(E,null))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=n(29);n.n(b).a.config(),r.a.render(i.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.381f3f3c.chunk.js.map