(this.webpackJsonpfoodfrenzy=this.webpackJsonpfoodfrenzy||[]).push([[0],{30:function(e,t,n){e.exports=n(72)},36:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),a=n(8),r=n.n(a),s=(n(35),n(36),n(10)),l=n(11),c=n(13),u=n(12),d=n(14),m=n(9),h=n(27),p=n.n(h),v=n(74),g=n(75),E=(n(68),function(e){var t=e.visible,n=e.marker;return console.log(e),t&&"current"!==n.name?o.a.createElement("div",{id:"infobox"},o.a.createElement(v.a,null,o.a.createElement(g.a,null,o.a.createElement(g.a.Img,{variant:"top",src:n.item.imageUrl}),o.a.createElement(g.a.Body,null,o.a.createElement(g.a.Title,null,n.name," ",void 0!==n.item.price?"- ".concat(n.item.price):""),o.a.createElement(g.a.Text,null,n.item.isClosed?"Closed":"Open",o.a.createElement("br",null),"Distance: ",parseFloat(n.item.distance).toFixed(2)," miles ",o.a.createElement("br",null),"Rating: ",n.item.rating,"/5 (",n.item.reviewCount," reviews)",o.a.createElement("br",null),"Supports Delivery: ",n.item.supportsDelivery?"Yes":"No",o.a.createElement("br",null)),"Phone: ",o.a.createElement(g.a.Link,{href:"tel:".concat(n.item.phone)},n.item.displayPhn))))):o.a.createElement(o.a.Fragment,null)}),f=(n(69),function(e){function t(){var e,n;Object(s.a)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={location:null,activeMarker:{},selectedPlace:{},showingInfoWindow:!1,businesses:[]},n.onMarkerClick=function(e,t){return n.setState({activeMarker:t,selectedPlace:e,showingInfoWindow:!0})},n.onInfoWindowClose=function(){return n.setState({activeMarker:null,showingInfoWindow:!1})},n.onMapClicked=function(){n.state.showingInfoWindow&&n.setState({activeMarker:null,showingInfoWindow:!1})},n.parseBuisinessResponse=function(e){return e.businesses.map((function(e){var t=e.id,n=e.name,i=e.image_url,o=e.is_closed,a=e.review_count,r=e.rating,s=e.price,l=e.phone,c=e.display_phone,u=e.distance,d=e.coordinates;return{id:t,name:n,imageUrl:i,isClosed:o,reviewCount:a,rating:r,price:s,phone:l,displayPhn:c,distance:u/=1609,supportsDelivery:-1!==e.transactions.indexOf("delivery"),coordinates:d}}))},n.getBusinesses=function(e){var t=e.latitude,i=e.longitude,o=e.limit,a=e.sortBy;console.log(Object({NODE_ENV:"production",PUBLIC_URL:"https://dhanushuuzumaki.github.io/Foodie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).MOCK_API),p()({method:"GET",url:Object({NODE_ENV:"production",PUBLIC_URL:"https://dhanushuuzumaki.github.io/Foodie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).YELP_URL,params:{latitude:t,longitude:i,limit:o,sort_by:a},headers:{Authorization:"Bearer ".concat(Object({NODE_ENV:"production",PUBLIC_URL:"https://dhanushuuzumaki.github.io/Foodie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).YELP_API_KEY)}}).then((function(e){var t=n.parseBuisinessResponse(e.data);n.setState({businesses:t})})).catch((function(e){return console.error(e)}))},n.componentDidMount=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,i=e.coords.longitude;n.setState({location:{lat:t,lng:i}},n.getBusinesses({latitude:t,longitude:i,limit:50,sortBy:"distance"}))}),(function(){alert("Access to location is required for the application to function.")}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getBusinessMarkers",value:function(){var e=this,t=this.state.businesses,n=this.props.google;return t.map((function(t){var i=t.coordinates,a=i.latitude,r=i.longitude;return o.a.createElement(m.Marker,{name:t.name,key:t.id,onClick:e.onMarkerClick,position:{lat:a,lng:r},icon:{url:t.imageUrl,anchor:new n.maps.Point(0,32),scaledSize:new n.maps.Size(64,64)},item:t})}))}},{key:"getMap",value:function(){return o.a.createElement(m.Map,{className:"map",google:this.props.google,onClick:this.onMapClicked,initialCenter:this.state.location,zoom:15},o.a.createElement(m.Marker,{name:"current",onClick:this.onMarkerClick}),this.getBusinessMarkers())}},{key:"render",value:function(){return console.log(this.state),null!=this.state.location?o.a.createElement("div",null,o.a.createElement("div",null,this.getMap()),o.a.createElement("div",null,o.a.createElement(E,{marker:this.state.activeMarker,onClose:this.onInfoWindowClose,visible:this.state.showingInfoWindow}))):o.a.createElement("div",null)}}]),t}(o.a.Component)),O=Object(m.GoogleApiWrapper)({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"https://dhanushuuzumaki.github.io/Foodie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).GAPI_KEY})(f),_=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Foodie"),o.a.createElement(O,null))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=n(29);n.n(C).a.config(),r.a.render(o.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.60a1070d.chunk.js.map